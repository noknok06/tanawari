棚割りアプリ 開発要件（初期版）

1. 目的

メーカー営業担当が 得意先に棚割りを提案 するためのツール

自社商品・競合商品を含む棚割りを直感的に作成・保存・提案できる

商品マスタの再利用性を確保しつつ、営業担当が都度追加可能にする

2. 対象ユーザー

メーカー営業担当（初期はユーザー管理未実装、後で追加予定）

得意先は閲覧用（提案資料としてPDF/画像で共有）

3. 基本機能
3.1 棚管理

棚の縦横レイアウト作成

棚サイズ（幅・高さ・段数）の調整

複数棚を並べて売場全体を再現

保存・編集・削除

3.2 商品管理

商品登録（1商品ずつ）

必須：商品名、JANコード、メーカー、カテゴリ

任意：ブランド、容量・規格、サイズ、価格、商品画像

競合商品登録も可能（営業担当が都度追加）

商品画像は棚サイズに合わせてリサイズ

プルダウンから選択、存在しない場合は「＋追加」でマスタ登録

3.3 マスタ管理

Makers / Brands / Categories は正規化してマスタ化

マスタは商品登録画面から追加可能

作成者情報は created_by に記録（将来的なユーザー管理用）

3.4 棚割り配置

棚に商品を ドラッグ＆ドロップ で配置

段・列単位でスナップ配置

フェース数の設定・調整

配置情報の保存・編集・削除

3.5 提案資料出力

棚割りレイアウトを 画像 / PDF 出力

商品配置表を Excel出力

自社商品と競合商品を区別して強調表示

4. 拡張機能（将来的に追加）

ユーザー管理（ログイン／権限設定）

複数提案案のバージョン管理

棚割りシミュレーション（売上シェア・フェース数計算）

得意先ごとの提案履歴管理

CSV一括登録

5. データベース構成（概略）
5.1 マスタ

Makers（メーカー）

Brands（ブランド）

Categories（カテゴリ）

5.2 商品マスタ

Products（商品）

product_id / product_name / product_code / maker_id / brand_id / category_id / size / image_url / is_active

5.3 棚管理

Shelves（棚）

Shelf_Placement（棚割り配置）

5.4 提案管理

Proposals（提案履歴）

Sales_Representative（営業担当）

6. UI/UX要件

商品登録画面からマスタ追加可能

棚割り画面は直感的にドラッグ＆ドロップで操作

棚サイズに合わせて商品画像を自動リサイズ

提案資料は ワンクリックでPDF / Excel出力

初期は1商品ずつ登録、後で一括登録対応可能

7. 技術要件

バックエンド：Django

フロントエンド：ドラッグ＆ドロップ対応のJSライブラリ（例：SortableJS, interact.js）

DB：PostgreSQL（正規化マスタに対応しやすい）

ファイル管理：商品画像はクラウド（S3/Cloudinary）またはDjango Media

出力：PDF（WeasyPrint, ReportLab） / Excel（openpyxl）

💡 ポイントまとめ

営業担当が都度追加で商品・競合商品を登録可能

マスタは正規化済みでプルダウン再利用可能

提案資料出力と棚割り操作性を重視